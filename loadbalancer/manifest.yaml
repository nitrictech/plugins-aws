name: loadbalancer
display_name: Load Balancer
type: infra
description: "Creates Application Load Balancer for distributing traffic across multiple targets"
icon: ./icon.svg
deployment:
  terraform: ./module
inputs:
  load_balancer_type:
    type: string
    description: "Routing capabilities and protocols. `application` for HTTP/HTTPS with advanced routing, `network` for high-performance TCP/UDP, `gateway` for third-party appliances (e.g. `application`)"
  name:
    type: string
    required: true
    description: "Load balancer name (e.g. `api-alb`)"
  internal:
    type: bool
    description: "`false` (default) creates internet-facing load balancer receiving public traffic (requires public subnets). `true` creates internal load balancer routing only within VPC (use private subnets)"
  security_groups:
    type: list(string)
    required: true
    description: 'Security group IDs controlling load balancer traffic. Configure inbound rules for ports 80/443 from internet or specific IP ranges (e.g. `["sg-alb-web"]`)'
  subnets:
    type: list(string)
    required: true
    description: "Subnet IDs in different availability zones where load balancer nodes will be placed"
  prefix_list_names:
    type: list(string)
    description: "List of AWS managed prefix list names to allow access (e.g., 'com.amazonaws.global.cloudfront.origin-facing'). Defaults to empty"

outputs:
  arn:
    type: string
    description: "Amazon Resource Name (ARN) that uniquely identifies the load balancer across AWS, used for referencing this load balancer in other resources and policies"
  listener_arn:
    type: string
    description: "The ARN of the listener created for the load balancer, used to manage and reference the listener in other resources such as target groups and rules"